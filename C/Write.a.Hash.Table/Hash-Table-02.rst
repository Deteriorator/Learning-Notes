##############################################################################
C 语言实现哈希表
##############################################################################

.. contents::

******************************************************************************
05  哈希表方法
******************************************************************************

更新
==============================================================================

我们的哈希表目前不支持更新键的值 。 如果我们插入两个键相同的项 ， 键将发生冲突 ， 第\
二项将插入下一个可用的存储桶中 。 搜索 key 的时候 ， 总是会找到原来的 key ， 我们无\
法访问到第二项 。 

我们可以通过修改 ``ht_insert`` 来解决这个问题 ， 以删除前一个项目并在其位置插入新条\
目 。

.. code-block:: C 

    // hash_table.c
    void ht_insert(ht_hash_table* ht, const char* key, const char* value) {
        // ...
        while (cur_item != NULL) {
           if (cur_item != &HT_DELETED_ITEM) {
                if (strcmp(cur_item->key, key) == 0) {
                    ht_del_item(cur_item);
                    ht->items[index] = item;
                    return;
                }
            }
            // ...
        } 
        // ...
    }

下一节 : 调整表格大小

******************************************************************************
06  调整表格大小
******************************************************************************


